<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script>
      const bgWidth = 500;
      const bgHeight = 500;

      const playerWidth = 50;
      const playerHeight = 50;

      // onload : 화면 다 그리고 실행

      $(() => {
          initGame();
      })

      function initGame()
      {
          setTimeout(() =>
          {
              $("#player").css("visibility", "visible");
          },3000);
      }

      function moveLeft()
      {
          $("#player").css("left","-=50px");
      }
      function moveRight()
      {
          $("#player").css("left","+=50px");
      }
      function moveUp()
      {
          $("#player").css("top","-=50px");
      }
      function moveDown()
      {
          $("#player").css("top","+=50px");
      }
      function checkBounds()
      {
          const player = $("#player");
          const playerLeft = parseInt(player.css("left"));
          const playerTop = parseInt(player.css("top"));

          if(playerLeft < 0)
          {
              player.css("left","0px");
          }
          else if(playerLeft + playerWidth > bgWidth)
          {
              player.css("left","450px");
          }
          else if(playerTop < 0)
          {
              player.css("top", "0px");
          }
          else if(playerTop + playerHeight > bgHeight)
          {
              player.css("top", "450px");
          }
      }

      document.addEventListener("keydown", (event) =>
      {
          if (event.key === 'ArrowLeft')
          {
              console.log("왼쪽");
              moveLeft();
          }
          else if (event.key === 'ArrowRight')
          {
              console.log("오른쪽");
              moveRight()
          }
          else if (event.key === 'ArrowUp')
          {
              console.log("위");
              moveUp()
          }
          else if (event.key === 'ArrowDown')
          {
              console.log("아래");
              moveDown()
          }
          checkBounds();
      });
  </script>
  <style>
    #background
    {
      position: absolute;
      left: 50px;
      top: 50px;
      width: 500px;
      height: 500px;
      border: 1px solid black;
    }
    #player
    {
      position: absolute;
      visibility: hidden;
      bottom: 100px;
      left: 50px;
      width: 50px;
      height: 50px;
    }
  </style>
</head>
<body>
  <div id="background">
    <div id="player">
      <img src="assets/마리오.png" width="50" height="50">
    </div>
  </div>
</body>
</html>